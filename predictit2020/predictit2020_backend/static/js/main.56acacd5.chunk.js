(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{52:function(e,t,a){e.exports=a(69)},57:function(e,t,a){},59:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},60:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),i=a(33),l=a(9),s=(a(57),a(39)),d=a(29),u=a.n(d),p=a(36),m=a(17),f=(a(59),a(60),a(43)),v=a.n(f),b={AL:9,AK:3,AZ:11,AR:6,CA:55,CO:9,CT:7,DC2:3,DE:3,FL:29,GA:16,HI:4,ID:4,IL:20,IN:11,IA:6,KS:6,KY:8,LA:8,ME:4,MD:10,MA:11,MI:16,MN:10,MS:6,MO:10,MT:3,NE:5,NV:6,NH:4,NJ:14,NM:5,NY:29,NC:15,ND:3,OH:18,OK:7,OR:7,PA:20,RI:4,SC:9,SD:3,TN:11,TX:38,UT:6,VT:3,VA:13,WA:12,WV:5,WI:10,WY:3},E=a(101),h=a(100);function y(e){document.cookie;if(document.cookie&&""!==document.cookie)for(var t=document.cookie.split(";"),a=0;a<t.length;a++){var n=t[a].split("="),r=Object(m.a)(n,2),o=r[0],c=r[1];if(e===(o=o.trim()))return c}return null}var g=function(e){var t=r.a.useState(0),a=Object(m.a)(t,2),n=a[0],o=a[1],c=r.a.useState({}),l=Object(m.a)(c,2),d=l[0],f=l[1],g=r.a.useState({democrats:0,republicans:0}),k=Object(m.a)(g,2),x=k[0],N=k[1],O=r.a.useState(""),w=Object(m.a)(O,2),S=w[0],A=w[1],C=r.a.useState(""),D=Object(m.a)(C,2),M=D[0],j=D[1],T=r.a.useState(""),I=Object(m.a)(T,2),_=I[0],L=I[1],F=r.a.useState(!1),J=Object(m.a)(F,2),W=J[0],B=J[1],R=r.a.useState(void 0),P=Object(m.a)(R,2),V=P[0],Y=P[1],K=51==Object.keys(d).length,H=new Date<new Date(2020,10,3),G=function(e){var t={};return e&&e.split("?")[1].split("&").forEach((function(e){var a=e.split("=");t[a[0]]=decodeURIComponent(a[1])})),t}(e.location.search).view_id,U=51-Object.keys(d).length;r.a.useEffect((function(){(function(){var e=Object(p.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G){e.next=6;break}return e.next=3,fetch("/load/");case 3:t=e.sent,e.next=9;break;case 6:return e.next=8,fetch("/load/?view_id=".concat(G));case 8:t=e.sent;case 9:if(403!==t.status){e.next=13;break}o(2),e.next=32;break;case 13:return e.next=15,t.json();case 15:a=e.sent,n=a.base_url,j(n),r=JSON.parse(a.prediction),L("".concat(n,"/static/build/index.html?view_id=").concat(r.id)),Y(a.username),delete r.number_correct,delete r.id,delete r.user,r.ID=r.IDA,delete r.IDA,N({democrats:r.electoral_votes_dem,republicans:r.electoral_votes_rep}),delete r.electoral_votes_dem,delete r.electoral_votes_rep,console.log(r),f(r),o(1);case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var X=function(e,t){return N({democrats:x.democrats+e,republicans:x.republicans+t})},z=function(e,t){switch(e){case"NE":!function(e){switch(e.NE.fill){case"navy":e.NE.fill="red",X(-5,5);break;case"red":e.NE.fill="#40F",X(4,-4);break;case"#40F":e.NE.fill="#80A",X(-1,1);break;case"#80A":e.NE.fill="#A08",X(-1,1);break;case"#A08":e.NE.fill="#B04",X(-1,1);break;case"#B04":e.NE.fill="navy",X(4,-4)}}(t);break;case"ME":!function(e){switch(e.ME.fill){case"navy":e.ME.fill="red",X(-4,4);break;case"red":e.ME.fill="#40F",X(3,-3);break;case"#40F":e.ME.fill="#A0A",X(-1,1);break;case"#A0A":e.ME.fill="#C08",X(-1,1);break;case"#C08":e.ME.fill="navy",X(3,-3)}}(t)}return t};return r.a.createElement("div",{className:"App"},0===n?"Loading":2===n?"Not Logged in properly, or invalid ID, unable to load":1===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"relative",marginTop:"50px"}},r.a.createElement("div",{style:{position:"absolute",left:"0px",top:"10px",height:"40px",width:"".concat(x.republicans/538*100,"%"),background:"red"}}),r.a.createElement("div",{style:{position:"absolute",right:"0px",top:"10px",height:"40px",width:"".concat(x.democrats/538*100,"%"),background:"navy"}}),r.a.createElement("div",{style:{position:"absolute",left:"5%",top:"0px",color:"#999"}},r.a.createElement("h3",null,"Republicans: ",x.republicans)),r.a.createElement("div",{style:{position:"absolute",right:"5%",top:"0px",color:"#999"}},r.a.createElement("h3",null,"Democrats: ",x.democrats)),void 0!==G&&r.a.createElement("div",{style:{paddingTop:"100px"}},r.a.createElement("h1",null,V,"'s map")),r.a.createElement("div",{style:{paddingTop:"100px"}},r.a.createElement(v.a,{customize:d,onClick:function(e){if(!G){A("");var t="DC"==e.target.dataset.name?"DC2":e.target.dataset.name,a=JSON.parse(JSON.stringify(d));t in a?"ME"===t||"NE"===t?z(t,a):"navy"===a[t].fill?(a[t].fill="red",N({democrats:x.democrats-b[t],republicans:x.republicans+b[t]})):(a[t].fill="navy",N({democrats:x.democrats+b[t],republicans:x.republicans-b[t]})):(a[t]={fill:"navy"},N(Object(s.a)(Object(s.a)({},x),{},{democrats:x.democrats+b[t]}))),f(a)}}}))),H?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,void 0===G&&r.a.createElement(E.a,{onClick:function(){var e=Object(p.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y("csrftoken"),e.next=3,fetch("/save/",{method:"POST",mode:"cors",headers:{"X-CSRFToken":a,"Content-Type":"application/json"},body:JSON.stringify({states:d,electoralVotes:x})});case 3:200===e.sent.status?A("Saved! You're all set! (You can modify it until November 3rd)"):A("Did not save properly!  Please try clicking save again");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),variant:"contained",disabled:!K,color:"primary",style:{marginTop:"50px"}},K?"Save My Prediction":U>1?"".concat(U," States Left"):"DC2"in d?"1 State Left!":"Don't forget Washington D.C.!")),void 0===G&&r.a.createElement("div",{style:{marginTop:"50px"}},r.a.createElement("p",null,"Share Link"),r.a.createElement(h.a,{value:_,style:{width:"75%"},onClick:function(e){e.target.select(),document.execCommand("copy"),B(!0),setTimeout((function(){B(!1)}),1500)}})),void 0===G&&r.a.createElement("p",{style:{paddingBottom:"200px"}},W?"Copied!":"Click to copy to Clipboard"),void 0!==G&&H&&r.a.createElement("div",{style:{marginTop:"50px"}},"This is ",V,"'s prediction for the 2020 election, what's yours?  Give it a try yourself here!",r.a.createElement("div",{style:{paddingBottom:"200px"}},r.a.createElement(i.b,{to:"//".concat(M),target:"_blank"},"Predict the Election")))):void 0===G&&r.a.createElement("p",null,"It is November 3rd (Or after) and you can't update your prediction anymore."),r.a.createElement("p",null,S)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(l.a,{link:"/",component:g}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.56acacd5.chunk.js.map